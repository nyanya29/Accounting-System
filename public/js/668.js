"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[668],{3668:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var o=n(821),a={class:"row gap-20 masonry pos-r"},l={class:"peers fxw-nw jc-sb ai-c"},s=(0,o.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"},[(0,o.createElementVNode)("path",{"fill-rule":"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),(0,o.createElementVNode)("path",{"fill-rule":"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"})],-1),r={class:"col-md-6"},c={class:"bgc-white p-20 bd"},i={class:"item border-bottom py-3"},d={class:"row justify-content-between align-items-center"},m={class:"col-auto"},u=(0,o.createElementVNode)("div",{class:"item-label mb-2"},[(0,o.createElementVNode)("strong",null,"Photo")],-1),p={class:"item-data"},h={class:"col-md-4"},g=["src"],f={class:"col text-end"},k=["disabled"],v={class:"item border-bottom py-3"},b={class:"row justify-content-between align-items-center"},N={class:"col-auto"},C=(0,o.createElementVNode)("div",{class:"item-label"},[(0,o.createElementVNode)("strong",null,"Name")],-1),E={key:0,class:"item-data"},y={key:1,class:"item-data"},V={class:"col text-end"},w=["disabled"];var B=n(9038);const P={data:function(){return{csrfToken:document.querySelector('meta[name="csrf-token"]').content,pageTitle:"Settings",isChangePhoto:!1,isChangeName:!1,name:this.$page.props.auth.user.username,myFiles:[],form:(0,B.cI)({name:this.$page.props.auth.user.username}),processing:!1}},methods:{back:function(){window.history.back()},changeName:function(){var e=this;this.form.post("/users/change-name",{replace:!0,onFinish:function(){e.isChangeName=!e.isChangeName}})},changePhoto:function(){var e=this,t=document.querySelector("input[type='hidden']").value;this.$inertia.post("/users/change-photo",{folder:t},{replace:!0,onFinish:function(){e.isChangePhoto=!e.isChangePhoto}})}}};const x=(0,n(3744).Z)(P,[["render",function(e,t,n,B,P,x){var S=(0,o.resolveComponent)("Link"),T=(0,o.resolveComponent)("FilePond");return(0,o.openBlock)(),(0,o.createElementBlock)("div",a,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(P.pageTitle),1),(0,o.createVNode)(S,{href:"/",onClick:x.back},{default:(0,o.withCtx)((function(){return[s]})),_:1},8,["onClick"])]),(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("div",m,[u,(0,o.createElementVNode)("div",p,[(0,o.createElementVNode)("div",h,[P.isChangePhoto?((0,o.openBlock)(),(0,o.createBlock)(T,{key:0,name:"avatar",id:"avatar",ref:"pond","label-idle":"Click or drop your photo here...",onRemovefile:t[0]||(t[0]=function(e){return P.processing=!1}),onProcessfilestart:t[1]||(t[1]=function(e){return P.processing=!0}),onAddfile:t[2]||(t[2]=function(e){return P.processing=!0}),onProcessfiles:t[3]||(t[3]=function(e){return P.processing=!1}),maxFileSize:"1MB",allowImageTransform:"true",allowImageCrop:"true",imageCropAspectRatio:"1:1","allow-multiple":!1,"accepted-file-types":"image/jpeg, image/png",files:P.myFiles,server:{url:"/files/upload",process:{headers:{"X-CSRF-TOKEN":P.csrfToken}},revert:{url:"/delete",headers:{"X-CSRF-TOKEN":P.csrfToken,"Content-Type":"application/json"}}}},null,8,["files","server"])):((0,o.openBlock)(),(0,o.createElementBlock)("img",{key:1,class:"profile-image img-fluid",src:e.$page.props.auth.user.photo,alt:""},null,8,g))])])]),(0,o.createElementVNode)("div",f,[P.isChangePhoto?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:0,class:"btn-sm btn-secondary",disabled:P.processing,onClick:t[4]||(t[4]=function(){return x.changePhoto&&x.changePhoto.apply(x,arguments)})},"Save",8,k)):((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:1,class:"btn-sm btn-secondary",onClick:t[5]||(t[5]=function(e){return P.isChangePhoto=!P.isChangePhoto})},"Change"))])])]),(0,o.createElementVNode)("div",v,[(0,o.createElementVNode)("div",b,[(0,o.createElementVNode)("div",N,[C,P.isChangeName?((0,o.openBlock)(),(0,o.createElementBlock)("div",E,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=function(e){return P.form.name=e})},null,512),[[o.vModelText,P.form.name]])])):((0,o.openBlock)(),(0,o.createElementBlock)("div",y,(0,o.toDisplayString)(e.$page.props.auth.user.username),1))]),(0,o.createElementVNode)("div",V,[P.isChangeName?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:0,class:"btn-sm btn-secondary",onClick:t[7]||(t[7]=function(){return x.changeName&&x.changeName.apply(x,arguments)}),disabled:P.form.processing},"Save",8,w)):((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:1,class:"btn-sm btn-secondary",onClick:t[8]||(t[8]=function(e){return P.isChangeName=!P.isChangeName})},"Change"))])])])])])])}]])}}]);